{"remainingRequest":"/home/artur/programowanie/organiser/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/artur/programowanie/organiser/src/components/Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/artur/programowanie/organiser/src/components/Calendar.vue","mtime":1620725935203},{"path":"/home/artur/programowanie/organiser/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/artur/programowanie/organiser/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/artur/programowanie/organiser/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/artur/programowanie/organiser/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiIgQ2FsZW5kYXIiLAogIGRhdGE6ICgpID0+ICh7CiAgICB2YWx1ZTogJycsCiAgICBldmVudHM6IFtdLAogICAgY29sb3JzOiBbJyMyMTk2RjMnLCAnIzNGNTFCNScsICcjNjczQUI3JywgJyMwMEJDRDQnLCAnIzRDQUY1MCcsICcjRkY5ODAwJywgJyM3NTc1NzUnXSwKICAgIG5hbWVzOiBbJ01lZXRpbmcnLCAnSG9saWRheScsICdQVE8nLCAnVHJhdmVsJywgJ0V2ZW50JywgJ0JpcnRoZGF5JywgJ0NvbmZlcmVuY2UnLCAnUGFydHknXSwKICAgIGRyYWdFdmVudDogbnVsbCwKICAgIGRyYWdTdGFydDogbnVsbCwKICAgIGNyZWF0ZUV2ZW50OiBudWxsLAogICAgY3JlYXRlU3RhcnQ6IG51bGwsCiAgICBleHRlbmRPcmlnaW5hbDogbnVsbCwKICB9KSwKICBtZXRob2RzOiB7CiAgICBzdGFydERyYWcgKHsgZXZlbnQsIHRpbWVkIH0pIHsKICAgICAgaWYgKGV2ZW50ICYmIHRpbWVkKSB7CiAgICAgICAgdGhpcy5kcmFnRXZlbnQgPSBldmVudAogICAgICAgIHRoaXMuZHJhZ1RpbWUgPSBudWxsCiAgICAgICAgdGhpcy5leHRlbmRPcmlnaW5hbCA9IG51bGwKICAgICAgfQogICAgfSwKICAgIHN0YXJ0VGltZSAodG1zKSB7CiAgICAgIGNvbnN0IG1vdXNlID0gdGhpcy50b1RpbWUodG1zKQoKICAgICAgaWYgKHRoaXMuZHJhZ0V2ZW50ICYmIHRoaXMuZHJhZ1RpbWUgPT09IG51bGwpIHsKICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuZHJhZ0V2ZW50LnN0YXJ0CgogICAgICAgIHRoaXMuZHJhZ1RpbWUgPSBtb3VzZSAtIHN0YXJ0CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jcmVhdGVTdGFydCA9IHRoaXMucm91bmRUaW1lKG1vdXNlKQogICAgICAgIHRoaXMuY3JlYXRlRXZlbnQgPSB7CiAgICAgICAgICBuYW1lOiBgRXZlbnQgIyR7dGhpcy5ldmVudHMubGVuZ3RofWAsCiAgICAgICAgICBjb2xvcjogdGhpcy5ybmRFbGVtZW50KHRoaXMuY29sb3JzKSwKICAgICAgICAgIHN0YXJ0OiB0aGlzLmNyZWF0ZVN0YXJ0LAogICAgICAgICAgZW5kOiB0aGlzLmNyZWF0ZVN0YXJ0LAogICAgICAgICAgdGltZWQ6IHRydWUsCiAgICAgICAgfQoKICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHRoaXMuY3JlYXRlRXZlbnQpCiAgICAgIH0KICAgIH0sCiAgICBleHRlbmRCb3R0b20gKGV2ZW50KSB7CiAgICAgIHRoaXMuY3JlYXRlRXZlbnQgPSBldmVudAogICAgICB0aGlzLmNyZWF0ZVN0YXJ0ID0gZXZlbnQuc3RhcnQKICAgICAgdGhpcy5leHRlbmRPcmlnaW5hbCA9IGV2ZW50LmVuZAogICAgfSwKICAgIG1vdXNlTW92ZSAodG1zKSB7CiAgICAgIGNvbnN0IG1vdXNlID0gdGhpcy50b1RpbWUodG1zKQoKICAgICAgaWYgKHRoaXMuZHJhZ0V2ZW50ICYmIHRoaXMuZHJhZ1RpbWUgIT09IG51bGwpIHsKICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuZHJhZ0V2ZW50LnN0YXJ0CiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5kcmFnRXZlbnQuZW5kCiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBlbmQgLSBzdGFydAogICAgICAgIGNvbnN0IG5ld1N0YXJ0VGltZSA9IG1vdXNlIC0gdGhpcy5kcmFnVGltZQogICAgICAgIGNvbnN0IG5ld1N0YXJ0ID0gdGhpcy5yb3VuZFRpbWUobmV3U3RhcnRUaW1lKQogICAgICAgIGNvbnN0IG5ld0VuZCA9IG5ld1N0YXJ0ICsgZHVyYXRpb24KCiAgICAgICAgdGhpcy5kcmFnRXZlbnQuc3RhcnQgPSBuZXdTdGFydAogICAgICAgIHRoaXMuZHJhZ0V2ZW50LmVuZCA9IG5ld0VuZAogICAgICB9IGVsc2UgaWYgKHRoaXMuY3JlYXRlRXZlbnQgJiYgdGhpcy5jcmVhdGVTdGFydCAhPT0gbnVsbCkgewogICAgICAgIGNvbnN0IG1vdXNlUm91bmRlZCA9IHRoaXMucm91bmRUaW1lKG1vdXNlLCBmYWxzZSkKICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihtb3VzZVJvdW5kZWQsIHRoaXMuY3JlYXRlU3RhcnQpCiAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgobW91c2VSb3VuZGVkLCB0aGlzLmNyZWF0ZVN0YXJ0KQoKICAgICAgICB0aGlzLmNyZWF0ZUV2ZW50LnN0YXJ0ID0gbWluCiAgICAgICAgdGhpcy5jcmVhdGVFdmVudC5lbmQgPSBtYXgKICAgICAgfQogICAgfSwKICAgIGVuZERyYWcgKCkgewogICAgICB0aGlzLmRyYWdUaW1lID0gbnVsbAogICAgICB0aGlzLmRyYWdFdmVudCA9IG51bGwKICAgICAgdGhpcy5jcmVhdGVFdmVudCA9IG51bGwKICAgICAgdGhpcy5jcmVhdGVTdGFydCA9IG51bGwKICAgICAgdGhpcy5leHRlbmRPcmlnaW5hbCA9IG51bGwKICAgIH0sCiAgICBjYW5jZWxEcmFnICgpIHsKICAgICAgaWYgKHRoaXMuY3JlYXRlRXZlbnQpIHsKICAgICAgICBpZiAodGhpcy5leHRlbmRPcmlnaW5hbCkgewogICAgICAgICAgdGhpcy5jcmVhdGVFdmVudC5lbmQgPSB0aGlzLmV4dGVuZE9yaWdpbmFsCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLmV2ZW50cy5pbmRleE9mKHRoaXMuY3JlYXRlRXZlbnQpCiAgICAgICAgICBpZiAoaSAhPT0gLTEpIHsKICAgICAgICAgICAgdGhpcy5ldmVudHMuc3BsaWNlKGksIDEpCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmNyZWF0ZUV2ZW50ID0gbnVsbAogICAgICB0aGlzLmNyZWF0ZVN0YXJ0ID0gbnVsbAogICAgICB0aGlzLmRyYWdUaW1lID0gbnVsbAogICAgICB0aGlzLmRyYWdFdmVudCA9IG51bGwKICAgIH0sCiAgICByb3VuZFRpbWUgKHRpbWUsIGRvd24gPSB0cnVlKSB7CiAgICAgIGNvbnN0IHJvdW5kVG8gPSAxNSAvLyBtaW51dGVzCiAgICAgIGNvbnN0IHJvdW5kRG93blRpbWUgPSByb3VuZFRvICogNjAgKiAxMDAwCgogICAgICByZXR1cm4gZG93bgogICAgICAgID8gdGltZSAtIHRpbWUgJSByb3VuZERvd25UaW1lCiAgICAgICAgOiB0aW1lICsgKHJvdW5kRG93blRpbWUgLSAodGltZSAlIHJvdW5kRG93blRpbWUpKQogICAgfSwKICAgIHRvVGltZSAodG1zKSB7CiAgICAgIHJldHVybiBuZXcgRGF0ZSh0bXMueWVhciwgdG1zLm1vbnRoIC0gMSwgdG1zLmRheSwgdG1zLmhvdXIsIHRtcy5taW51dGUpLmdldFRpbWUoKQogICAgfSwKICAgIGdldEV2ZW50Q29sb3IgKGV2ZW50KSB7CiAgICAgIGNvbnN0IHJnYiA9IHBhcnNlSW50KGV2ZW50LmNvbG9yLnN1YnN0cmluZygxKSwgMTYpCiAgICAgIGNvbnN0IHIgPSAocmdiID4+IDE2KSAmIDB4RkYKICAgICAgY29uc3QgZyA9IChyZ2IgPj4gOCkgJiAweEZGCiAgICAgIGNvbnN0IGIgPSAocmdiID4+IDApICYgMHhGRgoKICAgICAgcmV0dXJuIGV2ZW50ID09PSB0aGlzLmRyYWdFdmVudAogICAgICAgID8gYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgMC43KWAKICAgICAgICA6IGV2ZW50ID09PSB0aGlzLmNyZWF0ZUV2ZW50CiAgICAgICAgICA/IGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sIDAuNylgCiAgICAgICAgICA6IGV2ZW50LmNvbG9yCiAgICB9LAogICAgZ2V0RXZlbnRzICh7IHN0YXJ0LCBlbmQgfSkgewogICAgICBjb25zdCBldmVudHMgPSBbXQoKICAgICAgY29uc3QgbWluID0gbmV3IERhdGUoYCR7c3RhcnQuZGF0ZX1UMDA6MDA6MDBgKS5nZXRUaW1lKCkKICAgICAgY29uc3QgbWF4ID0gbmV3IERhdGUoYCR7ZW5kLmRhdGV9VDIzOjU5OjU5YCkuZ2V0VGltZSgpCiAgICAgIGNvbnN0IGRheXMgPSAobWF4IC0gbWluKSAvIDg2NDAwMDAwCiAgICAgIGNvbnN0IGV2ZW50Q291bnQgPSB0aGlzLnJuZChkYXlzLCBkYXlzICsgMjApCgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50Q291bnQ7IGkrKykgewogICAgICAgIGNvbnN0IHRpbWVkID0gdGhpcy5ybmQoMCwgMykgIT09IDAKICAgICAgICBjb25zdCBmaXJzdFRpbWVzdGFtcCA9IHRoaXMucm5kKG1pbiwgbWF4KQogICAgICAgIGNvbnN0IHNlY29uZFRpbWVzdGFtcCA9IHRoaXMucm5kKDIsIHRpbWVkID8gOCA6IDI4OCkgKiA5MDAwMDAKICAgICAgICBjb25zdCBzdGFydCA9IGZpcnN0VGltZXN0YW1wIC0gKGZpcnN0VGltZXN0YW1wICUgOTAwMDAwKQogICAgICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgc2Vjb25kVGltZXN0YW1wCgogICAgICAgIGV2ZW50cy5wdXNoKHsKICAgICAgICAgIG5hbWU6IHRoaXMucm5kRWxlbWVudCh0aGlzLm5hbWVzKSwKICAgICAgICAgIGNvbG9yOiB0aGlzLnJuZEVsZW1lbnQodGhpcy5jb2xvcnMpLAogICAgICAgICAgc3RhcnQsCiAgICAgICAgICBlbmQsCiAgICAgICAgICB0aW1lZCwKICAgICAgICB9KQogICAgICB9CgogICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cwogICAgfSwKICAgIHJuZCAoYSwgYikgewogICAgICByZXR1cm4gTWF0aC5mbG9vcigoYiAtIGEgKyAxKSAqIE1hdGgucmFuZG9tKCkpICsgYQogICAgfSwKICAgIHJuZEVsZW1lbnQgKGFycikgewogICAgICByZXR1cm4gYXJyW3RoaXMucm5kKDAsIGFyci5sZW5ndGggLSAxKV0KICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calendar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-row class=\"fill-height\">\n    <v-col>\n      <v-sheet height=\"600\">\n        <v-calendar\n          ref=\"calendar\"\n          v-model=\"value\"\n          color=\"primary\"\n          type=\"4day\"\n          :events=\"events\"\n          :event-color=\"getEventColor\"\n          :event-ripple=\"false\"\n          @change=\"getEvents\"\n          @mousedown:event=\"startDrag\"\n          @mousedown:time=\"startTime\"\n          @mousemove:time=\"mouseMove\"\n          @mouseup:time=\"endDrag\"\n          @mouseleave.native=\"cancelDrag\"\n        >\n          <template v-slot:event=\"{ event, timed, eventSummary }\">\n            <div\n              class=\"v-event-draggable\"\n              v-html=\"eventSummary()\"\n            ></div>\n            <div\n              v-if=\"timed\"\n              class=\"v-event-drag-bottom\"\n              @mousedown.stop=\"extendBottom(event)\"\n            ></div>\n          </template>\n        </v-calendar>\n      </v-sheet>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\n  export default {\n    name:\" Calendar\",\n    data: () => ({\n      value: '',\n      events: [],\n      colors: ['#2196F3', '#3F51B5', '#673AB7', '#00BCD4', '#4CAF50', '#FF9800', '#757575'],\n      names: ['Meeting', 'Holiday', 'PTO', 'Travel', 'Event', 'Birthday', 'Conference', 'Party'],\n      dragEvent: null,\n      dragStart: null,\n      createEvent: null,\n      createStart: null,\n      extendOriginal: null,\n    }),\n    methods: {\n      startDrag ({ event, timed }) {\n        if (event && timed) {\n          this.dragEvent = event\n          this.dragTime = null\n          this.extendOriginal = null\n        }\n      },\n      startTime (tms) {\n        const mouse = this.toTime(tms)\n\n        if (this.dragEvent && this.dragTime === null) {\n          const start = this.dragEvent.start\n\n          this.dragTime = mouse - start\n        } else {\n          this.createStart = this.roundTime(mouse)\n          this.createEvent = {\n            name: `Event #${this.events.length}`,\n            color: this.rndElement(this.colors),\n            start: this.createStart,\n            end: this.createStart,\n            timed: true,\n          }\n\n          this.events.push(this.createEvent)\n        }\n      },\n      extendBottom (event) {\n        this.createEvent = event\n        this.createStart = event.start\n        this.extendOriginal = event.end\n      },\n      mouseMove (tms) {\n        const mouse = this.toTime(tms)\n\n        if (this.dragEvent && this.dragTime !== null) {\n          const start = this.dragEvent.start\n          const end = this.dragEvent.end\n          const duration = end - start\n          const newStartTime = mouse - this.dragTime\n          const newStart = this.roundTime(newStartTime)\n          const newEnd = newStart + duration\n\n          this.dragEvent.start = newStart\n          this.dragEvent.end = newEnd\n        } else if (this.createEvent && this.createStart !== null) {\n          const mouseRounded = this.roundTime(mouse, false)\n          const min = Math.min(mouseRounded, this.createStart)\n          const max = Math.max(mouseRounded, this.createStart)\n\n          this.createEvent.start = min\n          this.createEvent.end = max\n        }\n      },\n      endDrag () {\n        this.dragTime = null\n        this.dragEvent = null\n        this.createEvent = null\n        this.createStart = null\n        this.extendOriginal = null\n      },\n      cancelDrag () {\n        if (this.createEvent) {\n          if (this.extendOriginal) {\n            this.createEvent.end = this.extendOriginal\n          } else {\n            const i = this.events.indexOf(this.createEvent)\n            if (i !== -1) {\n              this.events.splice(i, 1)\n            }\n          }\n        }\n\n        this.createEvent = null\n        this.createStart = null\n        this.dragTime = null\n        this.dragEvent = null\n      },\n      roundTime (time, down = true) {\n        const roundTo = 15 // minutes\n        const roundDownTime = roundTo * 60 * 1000\n\n        return down\n          ? time - time % roundDownTime\n          : time + (roundDownTime - (time % roundDownTime))\n      },\n      toTime (tms) {\n        return new Date(tms.year, tms.month - 1, tms.day, tms.hour, tms.minute).getTime()\n      },\n      getEventColor (event) {\n        const rgb = parseInt(event.color.substring(1), 16)\n        const r = (rgb >> 16) & 0xFF\n        const g = (rgb >> 8) & 0xFF\n        const b = (rgb >> 0) & 0xFF\n\n        return event === this.dragEvent\n          ? `rgba(${r}, ${g}, ${b}, 0.7)`\n          : event === this.createEvent\n            ? `rgba(${r}, ${g}, ${b}, 0.7)`\n            : event.color\n      },\n      getEvents ({ start, end }) {\n        const events = []\n\n        const min = new Date(`${start.date}T00:00:00`).getTime()\n        const max = new Date(`${end.date}T23:59:59`).getTime()\n        const days = (max - min) / 86400000\n        const eventCount = this.rnd(days, days + 20)\n\n        for (let i = 0; i < eventCount; i++) {\n          const timed = this.rnd(0, 3) !== 0\n          const firstTimestamp = this.rnd(min, max)\n          const secondTimestamp = this.rnd(2, timed ? 8 : 288) * 900000\n          const start = firstTimestamp - (firstTimestamp % 900000)\n          const end = start + secondTimestamp\n\n          events.push({\n            name: this.rndElement(this.names),\n            color: this.rndElement(this.colors),\n            start,\n            end,\n            timed,\n          })\n        }\n\n        this.events = events\n      },\n      rnd (a, b) {\n        return Math.floor((b - a + 1) * Math.random()) + a\n      },\n      rndElement (arr) {\n        return arr[this.rnd(0, arr.length - 1)]\n      },\n    },\n  }\n</script>\n\n<style scoped lang=\"scss\">\n.v-event-draggable {\n  padding-left: 6px;\n}\n\n.v-event-timed {\n  user-select: none;\n  -webkit-user-select: none;\n}\n\n.v-event-drag-bottom {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 4px;\n  height: 4px;\n  cursor: ns-resize;\n\n  &::after {\n    display: none;\n    position: absolute;\n    left: 50%;\n    height: 4px;\n    border-top: 1px solid white;\n    border-bottom: 1px solid white;\n    width: 16px;\n    margin-left: -8px;\n    opacity: 0.8;\n    content: '';\n  }\n\n  &:hover::after {\n    display: block;\n  }\n}\n</style>\nParty\n"]}]}
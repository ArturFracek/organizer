{"remainingRequest":"/home/artur/programowanie/organiser/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/artur/programowanie/organiser/client/src/components/ActivityOccurences.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/artur/programowanie/organiser/client/src/components/ActivityOccurences.vue","mtime":1637761712138},{"path":"/home/artur/programowanie/organiser/node_modules/cache-loader/dist/cjs.js","mtime":1638016032464},{"path":"/home/artur/programowanie/organiser/node_modules/babel-loader/lib/index.js","mtime":1638016034515},{"path":"/home/artur/programowanie/organiser/node_modules/cache-loader/dist/cjs.js","mtime":1638016032464},{"path":"/home/artur/programowanie/organiser/node_modules/vue-loader/lib/index.js","mtime":1638016035031}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWxlY3QgZnJvbSAiLi9TZWxlY3QudnVlIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgbW9tZW50LCB7IHdlZWtkYXlzIH0gZnJvbSAibW9tZW50IjsKaW1wb3J0IFRpbWVQaWNrZXIgZnJvbSAiLi9UaW1lUGlja2VyRmllbGQudnVlIjsKaW1wb3J0IGFjdGl2aXRpZXMgZnJvbSAiLi4vc3RvcmUvbW9kdWxlcy9hY3Rpdml0aWVzIjsKCmZ1bmN0aW9uIGdldE5ld0FjdGl2aXR5T2NjdXJlbmNlKCkgewogIHJldHVybiB7CiAgICBhY3Rpdml0eUlkOiBudWxsLAogICAgZGF5T2ZXZWVrOiAwLAogICAgc3RhcnRUaW1lOiAiMDg6MDAiLAogICAgZW5kVGltZTogIjA5OjAwIiwKICB9Owp9Cm1vbWVudC51cGRhdGVMb2NhbGUoImVuIiwgewogIHdlZWs6IHsKICAgIGRvdzogMSwKICB9LAp9KTsKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdLAogICAgfSwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFNlbGVjdCwKICAgIFRpbWVQaWNrZXIsCiAgfSwKICBjb21wdXRlZDogewogICAgd2Vla2RheXM6ICgpID0+IFsKICAgICAgLi4ubW9tZW50LndlZWtkYXlzKHRydWUpLm1hcCgoZGF5LCBpbmRleCkgPT4gewogICAgICAgIHJldHVybiB7IHRpdGxlOiBkYXksIGRheU51bWJlcjogaW5kZXggfTsKICAgICAgfSksCiAgICBdLAogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIGFjdGl2aXRpZXM6ICJhY3Rpdml0aWVzL2FjdGl2aXRpZXMiLAogICAgfSksCiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGROZXdBY2N0aXZpdHlPY2N1cmVuY2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgWy4uLnRoaXMudmFsdWUsIGdldE5ld0FjdGl2aXR5T2NjdXJlbmNlKCldKTsKICAgICAgdGhpcy5zaG93TGFiZWwgPSB0cnVlOwogICAgfSwKICAgIHJlbW92ZUFjdGl2aXR5T2NjdXJlbmNlKGluZGV4KSB7CiAgICAgIHRoaXMuJGVtaXQoCiAgICAgICAgImlucHV0IiwKICAgICAgICB0aGlzLnZhbHVlLmZpbHRlcigobywgaSkgPT4gaSAhPT0gaW5kZXgpCiAgICAgICk7CiAgICB9LAogICAgdXBkYXRlQWN0aXZpdHlPY2N1cmVuY2UoaW5kZXgsIGtleSwgbmV3RmllbGRWYWx1ZSkgewogICAgICBjb25zdCB2YWx1ZUNvcHkgPSBbLi4udGhpcy52YWx1ZV07CiAgICAgIGNvbnN0IG9jY3VyZW5jZSA9IHsgLi4udGhpcy52YWx1ZVtpbmRleF0gfTsKICAgICAgb2NjdXJlbmNlW2tleV0gPSBuZXdGaWVsZFZhbHVlOwogICAgICB2YWx1ZUNvcHlbaW5kZXhdID0gb2NjdXJlbmNlOwogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHZhbHVlQ29weSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["ActivityOccurences.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ActivityOccurences.vue","sourceRoot":"client/src/components","sourcesContent":["<template>\n  <div class=\"occurences__mainContainer\">\n    <button\n      class=\"occurences__button occurences__button--addOccurence\"\n      type=\"button\"\n      @click=\"addNewAcctivityOccurence\"\n      data-test=\"routineOccurencActivityAdd\"\n    >\n      Add Activity\n    </button>\n    <div\n      class=\"occurences__generalLabels\"\n      :class=\"{ occurences__showLabels: value[0] }\"\n    >\n      <div class=\"occurences__label occurences__label--activityLabel\">\n        Choose Activity\n      </div>\n      <div class=\"occurences__label occurences__label--dayOfWeekLabel\">\n        Day of Week\n      </div>\n      <div class=\"occurences__label occurences__label--Time\">Start Time</div>\n      <div class=\"occurences__label occurences__label--Time\">End Time</div>\n    </div>\n    <div class=\"occurences__occurencesBox\">\n      <div\n        :class=\"{ occurences__showOccurences: value[0] }\"\n        class=\"occurences__occurence\"\n        v-for=\"(occurence, index) in value\"\n        :key=\"index\"\n      >\n        <Select\n          :options=\"activities\"\n          optionLabelKey=\"title\"\n          optionValueKey=\"_id\"\n          :value=\"occurence.activityId\"\n          @input=\"updateActivityOccurence(index, 'activityId', $event)\"\n          data-test=\"activityNameOccurence\"\n        />\n        <Select\n          :options=\"weekdays\"\n          optionLabelKey=\"title\"\n          optionValueKey=\"dayNumber\"\n          :value=\"occurence.dayOfWeek\"\n          @input=\"updateActivityOccurence(index, 'dayOfWeek', $event)\"\n          data-test=\"activityDayOccurence\"\n        />\n        <TimePicker\n          :value=\"occurence.startTime\"\n          @input=\"updateActivityOccurence(index, 'startTime', $event)\"\n          default=\"08:00\"\n          data-test=\"timerPickerStart\"\n        />\n        <TimePicker\n          :value=\"occurence.endTime\"\n          @input=\"updateActivityOccurence(index, 'endTime', $event)\"\n          data-test=\"timerPickerEnd\"\n        />\n        <button\n          @click=\"removeActivityOccurence(index)\"\n          class=\"occurences__button occurences__button--deleteOccurence\"\n          type=\"button\"\n        >\n          X\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Select from \"./Select.vue\";\nimport { mapGetters } from \"vuex\";\nimport moment, { weekdays } from \"moment\";\nimport TimePicker from \"./TimePickerField.vue\";\nimport activities from \"../store/modules/activities\";\n\nfunction getNewActivityOccurence() {\n  return {\n    activityId: null,\n    dayOfWeek: 0,\n    startTime: \"08:00\",\n    endTime: \"09:00\",\n  };\n}\nmoment.updateLocale(\"en\", {\n  week: {\n    dow: 1,\n  },\n});\n\nexport default {\n  props: {\n    value: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  components: {\n    Select,\n    TimePicker,\n  },\n  computed: {\n    weekdays: () => [\n      ...moment.weekdays(true).map((day, index) => {\n        return { title: day, dayNumber: index };\n      }),\n    ],\n    ...mapGetters({\n      activities: \"activities/activities\",\n    }),\n  },\n  methods: {\n    addNewAcctivityOccurence() {\n      this.$emit(\"input\", [...this.value, getNewActivityOccurence()]);\n      this.showLabel = true;\n    },\n    removeActivityOccurence(index) {\n      this.$emit(\n        \"input\",\n        this.value.filter((o, i) => i !== index)\n      );\n    },\n    updateActivityOccurence(index, key, newFieldValue) {\n      const valueCopy = [...this.value];\n      const occurence = { ...this.value[index] };\n      occurence[key] = newFieldValue;\n      valueCopy[index] = occurence;\n      this.$emit(\"input\", valueCopy);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.occurences__mainContainer {\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  color: white;\n  overflow-y: hidden;\n  height: 45vh;\n  overflow-x: hidden;\n}\n\n.occurences__selectContainer {\n  align-self: flex-start;\n  padding: 0.2rem 0.7rem;\n}\n\n.occurences__occurencesBox {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  width: 100%;\n}\n\n.occurences__occurence {\n  display: flex;\n  width: auto;\n  justify-content: center;\n  opacity: 0;\n  transition: 1s ease-in;\n}\n.occurences__showOccurences {\n  position: relative;\n  opacity: 1;\n  left: 1%;\n}\nselect {\n  color: white;\n  font-size: 1.2rem;\n  transition: 1s;\n}\n\n.occurences__button {\n  color: black;\n}\n\n.occurences__generalLabels {\n  position: relative;\n  margin-top: 0.5rem;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  opacity: 0;\n  transition: 0.6s;\n  left: 3.3rem;\n}\n.occurences__showLabels {\n  opacity: 1;\n}\n\n.occurences__label {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  font-size: 1.1rem;\n  white-space: nowrap;\n  width: 10rem;\n  margin: 0 1rem;\n  color: rgb(255, 146, 112);\n  text-shadow: 0 0 4px rgb(27, 8, 134);\n  left: -2.9rem;\n  letter-spacing: 1px;\n  font-weight: 500;\n  transition: 1s ease-in;\n}\n\n.occurences__button {\n  display: flex;\n  align-items: center;\n  background: transparent;\n  font-size: 1.3rem;\n  color: aquamarine;\n}\n\n.occurences__button:hover {\n  color: rgb(246, 0, 0);\n  text-shadow: 0 0 3px rgb(27, 8, 134);\n}\n\n.occurences__button--addOccurence {\n  justify-content: center;\n  align-items: center;\n  border-bottom: 2px dotted turquoise;\n  border-left: 2px dotted turquoise;\n  border-right: 2px dotted turquoise;\n  white-space: nowrap;\n  width: 10rem;\n  transition: 0.4s;\n  padding-bottom: 0.2rem;\n}\n\n.occurences__button--deleteOccurence {\n  position: relative;\n  height: 100%;\n  display: flex;\n  top: -0.1rem;\n  width: 1rem;\n}\n\n@media (max-width: 760px) {\n  .occurences__mainContainer {\n    position: relative;\n    height: 24rem;\n    top: 1rem;\n    box-sizing: border-box;\n  }\n  .occurences__label {\n    font-size: 0.6rem;\n    width: 5rem;\n    margin: 0.1rem;\n    left: -3.5rem;\n    font-weight: bold;\n  }\n}\n</style>\n"]}]}
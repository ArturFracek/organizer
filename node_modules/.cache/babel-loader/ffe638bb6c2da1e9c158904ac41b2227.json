{"remainingRequest":"/home/artur/programowanie/organiser/node_modules/babel-loader/lib/index.js!/home/artur/programowanie/organiser/node_modules/vuetify/lib/util/color/transformSRGB.js","dependencies":[{"path":"/home/artur/programowanie/organiser/node_modules/vuetify/lib/util/color/transformSRGB.js","mtime":1638016041360},{"path":"/home/artur/programowanie/organiser/node_modules/cache-loader/dist/cjs.js","mtime":1638016032464},{"path":"/home/artur/programowanie/organiser/node_modules/babel-loader/lib/index.js","mtime":1638016034515}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi8uLi91dGlsL2hlbHBlcnMnOyAvLyBGb3IgY29udmVydGluZyBYWVogdG8gc1JHQgoKY29uc3Qgc3JnYkZvcndhcmRNYXRyaXggPSBbWzMuMjQwNiwgLTEuNTM3MiwgLTAuNDk4Nl0sIFstMC45Njg5LCAxLjg3NTgsIDAuMDQxNV0sIFswLjA1NTcsIC0wLjIwNDAsIDEuMDU3MF1dOyAvLyBGb3J3YXJkIGdhbW1hIGFkanVzdAoKY29uc3Qgc3JnYkZvcndhcmRUcmFuc2Zvcm0gPSBDID0+IEMgPD0gMC4wMDMxMzA4ID8gQyAqIDEyLjkyIDogMS4wNTUgKiBDICoqICgxIC8gMi40KSAtIDAuMDU1OyAvLyBGb3IgY29udmVydGluZyBzUkdCIHRvIFhZWgoKCmNvbnN0IHNyZ2JSZXZlcnNlTWF0cml4ID0gW1swLjQxMjQsIDAuMzU3NiwgMC4xODA1XSwgWzAuMjEyNiwgMC43MTUyLCAwLjA3MjJdLCBbMC4wMTkzLCAwLjExOTIsIDAuOTUwNV1dOyAvLyBSZXZlcnNlIGdhbW1hIGFkanVzdAoKY29uc3Qgc3JnYlJldmVyc2VUcmFuc2Zvcm0gPSBDID0+IEMgPD0gMC4wNDA0NSA/IEMgLyAxMi45MiA6ICgoQyArIDAuMDU1KSAvIDEuMDU1KSAqKiAyLjQ7CgpleHBvcnQgZnVuY3Rpb24gZnJvbVhZWih4eXopIHsKICBjb25zdCByZ2IgPSBBcnJheSgzKTsKICBjb25zdCB0cmFuc2Zvcm0gPSBzcmdiRm9yd2FyZFRyYW5zZm9ybTsKICBjb25zdCBtYXRyaXggPSBzcmdiRm9yd2FyZE1hdHJpeDsgLy8gTWF0cml4IHRyYW5zZm9ybSwgdGhlbiBnYW1tYSBhZGp1c3RtZW50CgogIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgKytpKSB7CiAgICByZ2JbaV0gPSBNYXRoLnJvdW5kKGNsYW1wKHRyYW5zZm9ybShtYXRyaXhbaV1bMF0gKiB4eXpbMF0gKyBtYXRyaXhbaV1bMV0gKiB4eXpbMV0gKyBtYXRyaXhbaV1bMl0gKiB4eXpbMl0pKSAqIDI1NSk7CiAgfSAvLyBSZXNjYWxlIGJhY2sgdG8gWzAsIDI1NV0KCgogIHJldHVybiAocmdiWzBdIDw8IDE2KSArIChyZ2JbMV0gPDwgOCkgKyAocmdiWzJdIDw8IDApOwp9CmV4cG9ydCBmdW5jdGlvbiB0b1hZWihyZ2IpIHsKICBjb25zdCB4eXogPSBbMCwgMCwgMF07CiAgY29uc3QgdHJhbnNmb3JtID0gc3JnYlJldmVyc2VUcmFuc2Zvcm07CiAgY29uc3QgbWF0cml4ID0gc3JnYlJldmVyc2VNYXRyaXg7IC8vIFJlc2NhbGUgZnJvbSBbMCwgMjU1XSB0byBbMCwgMV0gdGhlbiBhZGp1c3Qgc1JHQiBnYW1tYSB0byBsaW5lYXIgUkdCCgogIGNvbnN0IHIgPSB0cmFuc2Zvcm0oKHJnYiA+PiAxNiAmIDB4ZmYpIC8gMjU1KTsKICBjb25zdCBnID0gdHJhbnNmb3JtKChyZ2IgPj4gOCAmIDB4ZmYpIC8gMjU1KTsKICBjb25zdCBiID0gdHJhbnNmb3JtKChyZ2IgPj4gMCAmIDB4ZmYpIC8gMjU1KTsgLy8gTWF0cml4IGNvbG9yIHNwYWNlIHRyYW5zZm9ybQoKICBmb3IgKGxldCBpID0gMDsgaSA8IDM7ICsraSkgewogICAgeHl6W2ldID0gbWF0cml4W2ldWzBdICogciArIG1hdHJpeFtpXVsxXSAqIGcgKyBtYXRyaXhbaV1bMl0gKiBiOwogIH0KCiAgcmV0dXJuIHh5ejsKfQ=="},{"version":3,"sources":["../../../src/util/color/transformSRGB.ts"],"names":[],"mappings":"AACA,SAAA,KAAA,QAAA,oBAAA,C,CAEA;;AACA,MAAM,iBAAiB,GAAG,CACxB,CAAA,MAAA,EAAS,CAAT,MAAA,EAAkB,CADM,MACxB,CADwB,EAExB,CAAC,CAAD,MAAA,EAAA,MAAA,EAFwB,MAExB,CAFwB,EAGxB,CAAA,MAAA,EAAS,CAAT,MAAA,EAHF,MAGE,CAHwB,CAA1B,C,CAMA;;AACA,MAAM,oBAAoB,GAAI,CAAD,IAC3B,CAAC,IAAD,SAAA,GACI,CAAC,GADL,KAAA,GAEI,QAAQ,CAAC,KAAK,IAAd,GAAS,CAAT,GAHN,KAAA,C,CAMA;;;AACA,MAAM,iBAAiB,GAAG,CACxB,CAAA,MAAA,EAAA,MAAA,EADwB,MACxB,CADwB,EAExB,CAAA,MAAA,EAAA,MAAA,EAFwB,MAExB,CAFwB,EAGxB,CAAA,MAAA,EAAA,MAAA,EAHF,MAGE,CAHwB,CAA1B,C,CAMA;;AACA,MAAM,oBAAoB,GAAI,CAAD,IAC3B,CAAC,IAAD,OAAA,GACI,CAAC,GADL,KAAA,GAEI,CAAC,CAAC,CAAC,GAAF,KAAA,IAAD,KAAA,KAHN,GAAA;;AAMA,OAAM,SAAA,OAAA,CAAA,GAAA,EAA2B;AAC/B,QAAM,GAAG,GAAG,KAAK,CAAjB,CAAiB,CAAjB;AACA,QAAM,SAAS,GAAf,oBAAA;AACA,QAAM,MAAM,GAHmB,iBAG/B,CAH+B,CAK/B;;AACA,OAAK,IAAI,CAAC,GAAV,CAAA,EAAgB,CAAC,GAAjB,CAAA,EAAuB,EAAvB,CAAA,EAA4B;AAC1B,IAAA,GAAG,CAAH,CAAG,CAAH,GAAS,IAAI,CAAJ,KAAA,CAAW,KAAK,CAAC,SAAS,CACjC,MAAM,CAAN,CAAM,CAAN,CAAA,CAAA,IAAe,GAAG,CAAlB,CAAkB,CAAlB,GACA,MAAM,CAAN,CAAM,CAAN,CAAA,CAAA,IAAe,GAAG,CADlB,CACkB,CADlB,GAEA,MAAM,CAAN,CAAM,CAAN,CAAA,CAAA,IAAe,GAAG,CAHA,CAGA,CAHe,CAAV,CAAL,GAApB,GAAS,CAAT;AAP6B,GAAA,CAc/B;;;AACA,SAAO,CAAC,GAAG,CAAH,CAAG,CAAH,IAAD,EAAA,KAAkB,GAAG,CAAH,CAAG,CAAH,IAAlB,CAAA,KAAkC,GAAG,CAAH,CAAG,CAAH,IAAzC,CAAO,CAAP;AACD;AAED,OAAM,SAAA,KAAA,CAAA,GAAA,EAA8B;AAClC,QAAM,GAAG,GAAQ,CAAA,CAAA,EAAA,CAAA,EAAjB,CAAiB,CAAjB;AACA,QAAM,SAAS,GAAf,oBAAA;AACA,QAAM,MAAM,GAHsB,iBAGlC,CAHkC,CAKlC;;AACA,QAAM,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG,IAAH,EAAA,GAAD,IAAA,IAApB,GAAmB,CAAnB;AACA,QAAM,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG,IAAH,CAAA,GAAD,IAAA,IAApB,GAAmB,CAAnB;AACA,QAAM,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG,IAAH,CAAA,GAAD,IAAA,IARc,GAQf,CAAnB,CARkC,CAUlC;;AACA,OAAK,IAAI,CAAC,GAAV,CAAA,EAAgB,CAAC,GAAjB,CAAA,EAAuB,EAAvB,CAAA,EAA4B;AAC1B,IAAA,GAAG,CAAH,CAAG,CAAH,GAAS,MAAM,CAAN,CAAM,CAAN,CAAA,CAAA,IAAA,CAAA,GAAmB,MAAM,CAAN,CAAM,CAAN,CAAA,CAAA,IAAnB,CAAA,GAAsC,MAAM,CAAN,CAAM,CAAN,CAAA,CAAA,IAA/C,CAAA;AACD;;AAED,SAAA,GAAA;AACD","sourcesContent":["import { ColorInt, XYZ } from '../colorUtils'\nimport { clamp } from '../../util/helpers'\n\n// For converting XYZ to sRGB\nconst srgbForwardMatrix = [\n  [3.2406, -1.5372, -0.4986],\n  [-0.9689, 1.8758, 0.0415],\n  [0.0557, -0.2040, 1.0570],\n]\n\n// Forward gamma adjust\nconst srgbForwardTransform = (C: number): number => (\n  C <= 0.0031308\n    ? C * 12.92\n    : 1.055 * C ** (1 / 2.4) - 0.055\n)\n\n// For converting sRGB to XYZ\nconst srgbReverseMatrix = [\n  [0.4124, 0.3576, 0.1805],\n  [0.2126, 0.7152, 0.0722],\n  [0.0193, 0.1192, 0.9505],\n]\n\n// Reverse gamma adjust\nconst srgbReverseTransform = (C: number): number => (\n  C <= 0.04045\n    ? C / 12.92\n    : ((C + 0.055) / 1.055) ** 2.4\n)\n\nexport function fromXYZ (xyz: XYZ): ColorInt {\n  const rgb = Array(3)\n  const transform = srgbForwardTransform\n  const matrix = srgbForwardMatrix\n\n  // Matrix transform, then gamma adjustment\n  for (let i = 0; i < 3; ++i) {\n    rgb[i] = Math.round(clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255)\n  }\n\n  // Rescale back to [0, 255]\n  return (rgb[0] << 16) + (rgb[1] << 8) + (rgb[2] << 0)\n}\n\nexport function toXYZ (rgb: ColorInt): XYZ {\n  const xyz: XYZ = [0, 0, 0]\n  const transform = srgbReverseTransform\n  const matrix = srgbReverseMatrix\n\n  // Rescale from [0, 255] to [0, 1] then adjust sRGB gamma to linear RGB\n  const r = transform((rgb >> 16 & 0xff) / 255)\n  const g = transform((rgb >> 8 & 0xff) / 255)\n  const b = transform((rgb >> 0 & 0xff) / 255)\n\n  // Matrix color space transform\n  for (let i = 0; i < 3; ++i) {\n    xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b\n  }\n\n  return xyz\n}\n"],"sourceRoot":""}]}
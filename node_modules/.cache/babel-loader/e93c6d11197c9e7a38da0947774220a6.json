{"remainingRequest":"/home/artur/programowanie/organiser/node_modules/babel-loader/lib/index.js!/home/artur/programowanie/organiser/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/artur/programowanie/organiser/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/artur/programowanie/organiser/client/src/components/ActivityOccurences.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/artur/programowanie/organiser/client/src/components/ActivityOccurences.vue","mtime":1637761712138},{"path":"/home/artur/programowanie/organiser/node_modules/cache-loader/dist/cjs.js","mtime":1638016032464},{"path":"/home/artur/programowanie/organiser/node_modules/babel-loader/lib/index.js","mtime":1638016034515},{"path":"/home/artur/programowanie/organiser/node_modules/cache-loader/dist/cjs.js","mtime":1638016032464},{"path":"/home/artur/programowanie/organiser/node_modules/vue-loader/lib/index.js","mtime":1638016035031}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNlbGVjdCBmcm9tICIuL1NlbGVjdC52dWUiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBtb21lbnQsIHsgd2Vla2RheXMgfSBmcm9tICJtb21lbnQiOwppbXBvcnQgVGltZVBpY2tlciBmcm9tICIuL1RpbWVQaWNrZXJGaWVsZC52dWUiOwppbXBvcnQgYWN0aXZpdGllcyBmcm9tICIuLi9zdG9yZS9tb2R1bGVzL2FjdGl2aXRpZXMiOwoKZnVuY3Rpb24gZ2V0TmV3QWN0aXZpdHlPY2N1cmVuY2UoKSB7CiAgcmV0dXJuIHsKICAgIGFjdGl2aXR5SWQ6IG51bGwsCiAgICBkYXlPZldlZWs6IDAsCiAgICBzdGFydFRpbWU6ICIwODowMCIsCiAgICBlbmRUaW1lOiAiMDk6MDAiCiAgfTsKfQoKbW9tZW50LnVwZGF0ZUxvY2FsZSgiZW4iLCB7CiAgd2VlazogewogICAgZG93OiAxCiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFNlbGVjdCwKICAgIFRpbWVQaWNrZXIKICB9LAogIGNvbXB1dGVkOiB7CiAgICB3ZWVrZGF5czogKCkgPT4gWy4uLm1vbWVudC53ZWVrZGF5cyh0cnVlKS5tYXAoKGRheSwgaW5kZXgpID0+IHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0aXRsZTogZGF5LAogICAgICAgIGRheU51bWJlcjogaW5kZXgKICAgICAgfTsKICAgIH0pXSwKICAgIC4uLm1hcEdldHRlcnMoewogICAgICBhY3Rpdml0aWVzOiAiYWN0aXZpdGllcy9hY3Rpdml0aWVzIgogICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZE5ld0FjY3Rpdml0eU9jY3VyZW5jZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCBbLi4udGhpcy52YWx1ZSwgZ2V0TmV3QWN0aXZpdHlPY2N1cmVuY2UoKV0pOwogICAgICB0aGlzLnNob3dMYWJlbCA9IHRydWU7CiAgICB9LAoKICAgIHJlbW92ZUFjdGl2aXR5T2NjdXJlbmNlKGluZGV4KSB7CiAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgdGhpcy52YWx1ZS5maWx0ZXIoKG8sIGkpID0+IGkgIT09IGluZGV4KSk7CiAgICB9LAoKICAgIHVwZGF0ZUFjdGl2aXR5T2NjdXJlbmNlKGluZGV4LCBrZXksIG5ld0ZpZWxkVmFsdWUpIHsKICAgICAgY29uc3QgdmFsdWVDb3B5ID0gWy4uLnRoaXMudmFsdWVdOwogICAgICBjb25zdCBvY2N1cmVuY2UgPSB7IC4uLnRoaXMudmFsdWVbaW5kZXhdCiAgICAgIH07CiAgICAgIG9jY3VyZW5jZVtrZXldID0gbmV3RmllbGRWYWx1ZTsKICAgICAgdmFsdWVDb3B5W2luZGV4XSA9IG9jY3VyZW5jZTsKICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB2YWx1ZUNvcHkpOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["ActivityOccurences.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA,OAAA,MAAA,MAAA,cAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,MAAA,IAAA,QAAA,QAAA,QAAA;AACA,OAAA,UAAA,MAAA,uBAAA;AACA,OAAA,UAAA,MAAA,6BAAA;;AAEA,SAAA,uBAAA,GAAA;AACA,SAAA;AACA,IAAA,UAAA,EAAA,IADA;AAEA,IAAA,SAAA,EAAA,CAFA;AAGA,IAAA,SAAA,EAAA,OAHA;AAIA,IAAA,OAAA,EAAA;AAJA,GAAA;AAMA;;AACA,MAAA,CAAA,YAAA,CAAA,IAAA,EAAA;AACA,EAAA,IAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA;AADA,CAAA;AAMA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,MAAA;AAFA;AADA,GADA;AAOA,EAAA,UAAA,EAAA;AACA,IAAA,MADA;AAEA,IAAA;AAFA,GAPA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,QAAA,EAAA,MAAA,CACA,GAAA,MAAA,CAAA,QAAA,CAAA,IAAA,EAAA,GAAA,CAAA,CAAA,GAAA,EAAA,KAAA,KAAA;AACA,aAAA;AAAA,QAAA,KAAA,EAAA,GAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAAA;AACA,KAFA,CADA,CADA;AAMA,OAAA,UAAA,CAAA;AACA,MAAA,UAAA,EAAA;AADA,KAAA;AANA,GAXA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,wBAAA,GAAA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,CAAA,GAAA,KAAA,KAAA,EAAA,uBAAA,EAAA,CAAA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,KAJA;;AAKA,IAAA,uBAAA,CAAA,KAAA,EAAA;AACA,WAAA,KAAA,CACA,OADA,EAEA,KAAA,KAAA,CAAA,MAAA,CAAA,CAAA,CAAA,EAAA,CAAA,KAAA,CAAA,KAAA,KAAA,CAFA;AAIA,KAVA;;AAWA,IAAA,uBAAA,CAAA,KAAA,EAAA,GAAA,EAAA,aAAA,EAAA;AACA,YAAA,SAAA,GAAA,CAAA,GAAA,KAAA,KAAA,CAAA;AACA,YAAA,SAAA,GAAA,EAAA,GAAA,KAAA,KAAA,CAAA,KAAA;AAAA,OAAA;AACA,MAAA,SAAA,CAAA,GAAA,CAAA,GAAA,aAAA;AACA,MAAA,SAAA,CAAA,KAAA,CAAA,GAAA,SAAA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,SAAA;AACA;;AAjBA;AArBA,CAAA","sourcesContent":["<template>\n  <div class=\"occurences__mainContainer\">\n    <button\n      class=\"occurences__button occurences__button--addOccurence\"\n      type=\"button\"\n      @click=\"addNewAcctivityOccurence\"\n      data-test=\"routineOccurencActivityAdd\"\n    >\n      Add Activity\n    </button>\n    <div\n      class=\"occurences__generalLabels\"\n      :class=\"{ occurences__showLabels: value[0] }\"\n    >\n      <div class=\"occurences__label occurences__label--activityLabel\">\n        Choose Activity\n      </div>\n      <div class=\"occurences__label occurences__label--dayOfWeekLabel\">\n        Day of Week\n      </div>\n      <div class=\"occurences__label occurences__label--Time\">Start Time</div>\n      <div class=\"occurences__label occurences__label--Time\">End Time</div>\n    </div>\n    <div class=\"occurences__occurencesBox\">\n      <div\n        :class=\"{ occurences__showOccurences: value[0] }\"\n        class=\"occurences__occurence\"\n        v-for=\"(occurence, index) in value\"\n        :key=\"index\"\n      >\n        <Select\n          :options=\"activities\"\n          optionLabelKey=\"title\"\n          optionValueKey=\"_id\"\n          :value=\"occurence.activityId\"\n          @input=\"updateActivityOccurence(index, 'activityId', $event)\"\n          data-test=\"activityNameOccurence\"\n        />\n        <Select\n          :options=\"weekdays\"\n          optionLabelKey=\"title\"\n          optionValueKey=\"dayNumber\"\n          :value=\"occurence.dayOfWeek\"\n          @input=\"updateActivityOccurence(index, 'dayOfWeek', $event)\"\n          data-test=\"activityDayOccurence\"\n        />\n        <TimePicker\n          :value=\"occurence.startTime\"\n          @input=\"updateActivityOccurence(index, 'startTime', $event)\"\n          default=\"08:00\"\n          data-test=\"timerPickerStart\"\n        />\n        <TimePicker\n          :value=\"occurence.endTime\"\n          @input=\"updateActivityOccurence(index, 'endTime', $event)\"\n          data-test=\"timerPickerEnd\"\n        />\n        <button\n          @click=\"removeActivityOccurence(index)\"\n          class=\"occurences__button occurences__button--deleteOccurence\"\n          type=\"button\"\n        >\n          X\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Select from \"./Select.vue\";\nimport { mapGetters } from \"vuex\";\nimport moment, { weekdays } from \"moment\";\nimport TimePicker from \"./TimePickerField.vue\";\nimport activities from \"../store/modules/activities\";\n\nfunction getNewActivityOccurence() {\n  return {\n    activityId: null,\n    dayOfWeek: 0,\n    startTime: \"08:00\",\n    endTime: \"09:00\",\n  };\n}\nmoment.updateLocale(\"en\", {\n  week: {\n    dow: 1,\n  },\n});\n\nexport default {\n  props: {\n    value: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  components: {\n    Select,\n    TimePicker,\n  },\n  computed: {\n    weekdays: () => [\n      ...moment.weekdays(true).map((day, index) => {\n        return { title: day, dayNumber: index };\n      }),\n    ],\n    ...mapGetters({\n      activities: \"activities/activities\",\n    }),\n  },\n  methods: {\n    addNewAcctivityOccurence() {\n      this.$emit(\"input\", [...this.value, getNewActivityOccurence()]);\n      this.showLabel = true;\n    },\n    removeActivityOccurence(index) {\n      this.$emit(\n        \"input\",\n        this.value.filter((o, i) => i !== index)\n      );\n    },\n    updateActivityOccurence(index, key, newFieldValue) {\n      const valueCopy = [...this.value];\n      const occurence = { ...this.value[index] };\n      occurence[key] = newFieldValue;\n      valueCopy[index] = occurence;\n      this.$emit(\"input\", valueCopy);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.occurences__mainContainer {\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  color: white;\n  overflow-y: hidden;\n  height: 45vh;\n  overflow-x: hidden;\n}\n\n.occurences__selectContainer {\n  align-self: flex-start;\n  padding: 0.2rem 0.7rem;\n}\n\n.occurences__occurencesBox {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  width: 100%;\n}\n\n.occurences__occurence {\n  display: flex;\n  width: auto;\n  justify-content: center;\n  opacity: 0;\n  transition: 1s ease-in;\n}\n.occurences__showOccurences {\n  position: relative;\n  opacity: 1;\n  left: 1%;\n}\nselect {\n  color: white;\n  font-size: 1.2rem;\n  transition: 1s;\n}\n\n.occurences__button {\n  color: black;\n}\n\n.occurences__generalLabels {\n  position: relative;\n  margin-top: 0.5rem;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  opacity: 0;\n  transition: 0.6s;\n  left: 3.3rem;\n}\n.occurences__showLabels {\n  opacity: 1;\n}\n\n.occurences__label {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  font-size: 1.1rem;\n  white-space: nowrap;\n  width: 10rem;\n  margin: 0 1rem;\n  color: rgb(255, 146, 112);\n  text-shadow: 0 0 4px rgb(27, 8, 134);\n  left: -2.9rem;\n  letter-spacing: 1px;\n  font-weight: 500;\n  transition: 1s ease-in;\n}\n\n.occurences__button {\n  display: flex;\n  align-items: center;\n  background: transparent;\n  font-size: 1.3rem;\n  color: aquamarine;\n}\n\n.occurences__button:hover {\n  color: rgb(246, 0, 0);\n  text-shadow: 0 0 3px rgb(27, 8, 134);\n}\n\n.occurences__button--addOccurence {\n  justify-content: center;\n  align-items: center;\n  border-bottom: 2px dotted turquoise;\n  border-left: 2px dotted turquoise;\n  border-right: 2px dotted turquoise;\n  white-space: nowrap;\n  width: 10rem;\n  transition: 0.4s;\n  padding-bottom: 0.2rem;\n}\n\n.occurences__button--deleteOccurence {\n  position: relative;\n  height: 100%;\n  display: flex;\n  top: -0.1rem;\n  width: 1rem;\n}\n\n@media (max-width: 760px) {\n  .occurences__mainContainer {\n    position: relative;\n    height: 24rem;\n    top: 1rem;\n    box-sizing: border-box;\n  }\n  .occurences__label {\n    font-size: 0.6rem;\n    width: 5rem;\n    margin: 0.1rem;\n    left: -3.5rem;\n    font-weight: bold;\n  }\n}\n</style>\n"],"sourceRoot":"client/src/components"}]}